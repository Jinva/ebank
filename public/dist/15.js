webpackJsonp([15],{356:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{list:[],purse_type:"",user_type:"",merchant:"",dialog:"",form:{id:0,balance:0,freeze:0,freeze_add:0,freeze_remarks:"后台管理员冻结",status:0,remarks:""},keyword:{page:1,user_id:"",user_type_id:[],purse_type_id:[],merchant_id:1}}},methods:{search:function(t){this.keyword.page=t,this.init()},tab_change:function(t){this.keyword.page=1,this.keyword.merchant_id=t,this.init()},add:function(t){var e=this;e.dialog.open(),e.$API.get("/purse/user/"+t).then(function(t){e.form.id=t.id,e.form.balance=t.balance,e.form.freeze=t.freeze,e.form.status=t.status,e.form.remarks=t.remarks,e.form.freeze_add=0,e.$nextTick(function(){$(".mdui-dialog").mutation()})}).catch(function(){})},add_submit:function(){var t=this;t.$API.post("/purse/user",t.form).then(function(){t.dialog.close(),t.init()}).catch(function(t){})},init:function(){var t=this;t.$API.get("/purse/user",t.keyword).then(function(e){t.list=e.list,t.merchant=e.merchant,t.user_type=e.user_type,t.purse_type=e.purse_type,t.$nextTick(function(){$(".mdui-tab").mutation()})}).catch(function(t){})}},mounted:function(){this.dialog=new mdui.Dialog(".dialog_add",{history:!1}),this.init()}}},357:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"purse_user"},[s("div",{staticClass:"mdui-typo",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(1)}}},[s("blockquote",{staticClass:"blockquote_normal"},[s("p",[t._v("\n\t\t\t\t用户ID："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword.user_id,expression:"keyword.user_id"}],staticClass:"mdui-textfield-input input_normal",attrs:{type:"text"},domProps:{value:t.keyword.user_id},on:{input:function(e){e.target.composing||t.$set(t.keyword,"user_id",e.target.value)}}})]),t._v(" "),s("p",[t._v("\n\t\t\t\t身份类型：\n\t\t\t\t"),t._l(t.user_type,function(e,i){return s("label",{staticClass:"mdui-checkbox",staticStyle:{"margin-right":"2rem"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword.user_type_id,expression:"keyword.user_type_id"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.keyword.user_type_id)?t._i(t.keyword.user_type_id,i)>-1:t.keyword.user_type_id},on:{change:function(e){var s=t.keyword.user_type_id,a=e.target,r=!!a.checked;if(Array.isArray(s)){var o=i,d=t._i(s,o);a.checked?d<0&&t.$set(t.keyword,"user_type_id",s.concat([o])):d>-1&&t.$set(t.keyword,"user_type_id",s.slice(0,d).concat(s.slice(d+1)))}else t.$set(t.keyword,"user_type_id",r)}}}),t._v(" "),s("i",{staticClass:"mdui-checkbox-icon"}),t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})],2),t._v(" "),s("p",[t._v("\n\t\t\t\t钱包类型：\n\t\t\t\t"),t._l(t.purse_type,function(e,i){return s("label",{staticClass:"mdui-checkbox",staticStyle:{"margin-right":"2rem"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword.purse_type_id,expression:"keyword.purse_type_id"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.keyword.purse_type_id)?t._i(t.keyword.purse_type_id,i)>-1:t.keyword.purse_type_id},on:{change:function(e){var s=t.keyword.purse_type_id,a=e.target,r=!!a.checked;if(Array.isArray(s)){var o=i,d=t._i(s,o);a.checked?d<0&&t.$set(t.keyword,"purse_type_id",s.concat([o])):d>-1&&t.$set(t.keyword,"purse_type_id",s.slice(0,d).concat(s.slice(d+1)))}else t.$set(t.keyword,"purse_type_id",r)}}}),t._v(" "),s("i",{staticClass:"mdui-checkbox-icon"}),t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})],2),t._v(" "),s("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:function(e){return t.search(1)}}},[s("i",{staticClass:"mdui-icon mdui-icon-left material-icons"},[t._v("search")]),t._v("搜索")])])]),t._v(" "),s("div",{staticClass:"mdui-tab",attrs:{"mdui-tab":""}},t._l(t.merchant,function(e,i,a){return s("a",{class:{"mdui-btn":!0,"mdui-ripple":!0,"mdui-tab-active":0===a},attrs:{href:"#tab_"+a},domProps:{textContent:t._s(e)},on:{click:function(e){return t.tab_change(i)}}})}),0),t._v(" "),s("div",{staticClass:"mdui-table-fluid"},[s("table",{staticClass:"mdui-table mdui-table-hoverable"},[t._m(0),t._v(" "),s("tbody",t._l(t.list.data,function(e,i,a){return s("tr",[s("td",{domProps:{textContent:t._s("#"+(i+1))}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.id)}}),t._v(" "),s("td",{domProps:{textContent:t._s(t.merchant[e.merchant_id])}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.user_id)}}),t._v(" "),s("td",{domProps:{textContent:t._s(t.user_type[e.user_type_id])}}),t._v(" "),s("td",{domProps:{textContent:t._s(t.purse_type[e.purse_type_id])}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.balance)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.freeze)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.balance-e.freeze)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.status?"启用":"禁用")}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.remarks)}}),t._v(" "),s("td",{domProps:{textContent:t._s(e.created_at)}}),t._v(" "),s("td",[s("div",{staticClass:"mdui-btn-group"},[s("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:function(s){return t.add(e.id)}}},[t._v("修改")])])])])}),0)])]),t._v(" "),s("div",{staticClass:"mdui-dialog dialog_add"},[s("div",{staticClass:"mdui-dialog-title"},[t._v("\n\t\t\t用户钱包新增/修改\n\t\t")]),t._v(" "),s("div",{staticClass:"mdui-dialog-content",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add_submit(e)}}},[s("form",[s("div",{staticClass:"mdui-container"},[s("div",{staticClass:"mdui-textfield"},[s("label",{staticClass:"mdui-textfield-label"},[t._v("当前冻结金额")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.freeze,expression:"form.freeze"}],staticClass:"mdui-textfield-input",attrs:{disabled:"",type:"tel"},domProps:{value:t.form.freeze},on:{input:function(e){e.target.composing||t.$set(t.form,"freeze",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"mdui-container"},[s("div",{staticClass:"mdui-textfield"},[s("label",{staticClass:"mdui-textfield-label"},[t._v("冻结金额(不可大于余额 "+t._s(t.form.balance))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.freeze_add,expression:"form.freeze_add"}],staticClass:"mdui-textfield-input",attrs:{type:"tel"},domProps:{value:t.form.freeze_add},on:{input:function(e){e.target.composing||t.$set(t.form,"freeze_add",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"mdui-container"},[s("div",{staticClass:"mdui-textfield"},[s("label",{staticClass:"mdui-textfield-label"},[t._v("冻结说明")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.freeze_remarks,expression:"form.freeze_remarks"}],staticClass:"mdui-textfield-input",attrs:{type:"text"},domProps:{value:t.form.freeze_remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"freeze_remarks",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"mdui-container"},[s("label",{staticClass:"mdui-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],attrs:{type:"radio",name:"status",value:"1"},domProps:{checked:!!t.form.status,checked:t._q(t.form.status,"1")},on:{change:function(e){return t.$set(t.form,"status","1")}}}),t._v(" "),s("i",{staticClass:"mdui-radio-icon"}),t._v("\n\t\t\t\t\t\t启用\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"mdui-container"},[s("label",{staticClass:"mdui-radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],attrs:{type:"radio",name:"status",value:"0"},domProps:{checked:!t.form.status,checked:t._q(t.form.status,"0")},on:{change:function(e){return t.$set(t.form,"status","0")}}}),t._v(" "),s("i",{staticClass:"mdui-radio-icon"}),t._v("\n\t\t\t\t\t\t禁用\n\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"mdui-container"},[s("div",{staticClass:"mdui-textfield"},[s("label",{staticClass:"mdui-textfield-label"},[t._v("备注")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"mdui-textfield-input",attrs:{type:"text"},domProps:{value:t.form.remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"remarks",e.target.value)}}})])])])]),t._v(" "),s("div",{staticClass:"mdui-dialog-actions"},[s("a",{staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-close":""}},[t._v("取消")]),t._v(" "),s("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:t.add_submit}},[t._v("提交")])])]),t._v(" "),s("div",{staticClass:"mdui-color-white footer"},[s("pagination",{attrs:{pageInfo:{total:t.list.total,current:t.list.current_page,pagenum:t.list.per_page,page:t.list.last_page,pagegroup:9,skin:"#2196F3"}},on:{change:t.search}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("钱包ID")]),t._v(" "),s("th",[t._v("商户")]),t._v(" "),s("th",[t._v("用户ID")]),t._v(" "),s("th",[t._v("身份类型")]),t._v(" "),s("th",[t._v("钱包类型")]),t._v(" "),s("th",[t._v("总余额(分)")]),t._v(" "),s("th",[t._v("冻结余额(分)")]),t._v(" "),s("th",[t._v("可用余额(分)")]),t._v(" "),s("th",[t._v("状态")]),t._v(" "),s("th",[t._v("备注")]),t._v(" "),s("th",[t._v("创建时间")]),t._v(" "),s("th",[t._v("操作")])])])}]}},393:function(t,e,s){var i=s(1)(s(356),s(357),!1,null,null,null);t.exports=i.exports}});